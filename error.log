{"level":"error","message":"Error fetching AI response from Anthropic: TypeError: messages.map is not a function\n    at ChatAnthropicMessages.generate (/Users/sahil/code/express-app/node_modules/@langchain/core/dist/language_models/chat_models.cjs:301:39)\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:10:48)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:24:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 02:46:38"}
{"level":"error","message":"Error creating question: Error: Error fetching AI response from Anthropic\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:17:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:24:24)","service":"user-service","timestamp":"2024-06-15 02:46:38"}
{"level":"error","message":"Error fetching AI response from Anthropic: TypeError: messages.map is not a function\n    at ChatAnthropicMessages.generate (/Users/sahil/code/express-app/node_modules/@langchain/core/dist/language_models/chat_models.cjs:301:39)\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:10:48)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:30:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 02:48:34"}
{"level":"error","message":"Error creating question: Error: Error fetching AI response from Anthropic\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:23:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:30:24)","service":"user-service","timestamp":"2024-06-15 02:48:34"}
{"level":"error","message":"Error fetching AI response from Anthropic: TypeError: messages.map is not a function\n    at ChatAnthropicMessages.generate (/Users/sahil/code/express-app/node_modules/@langchain/core/dist/language_models/chat_models.cjs:301:39)\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:11:48)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:31:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 02:49:24"}
{"level":"error","message":"Error creating question: Error: Error fetching AI response from Anthropic\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:24:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:31:24)","service":"user-service","timestamp":"2024-06-15 02:49:24"}
{"level":"error","message":"Error fetching AI response from Anthropic: ReferenceError: questions is not defined\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:12:55)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:29:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 03:10:29"}
{"level":"error","message":"Error creating question: Error: Error fetching AI response from Anthropic\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:22:15)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:29:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 03:10:29"}
{"level":"error","message":"Error fetching AI response from Anthropic: TypeError: Assignment to constant variable.\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:12:74)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:29:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 03:10:48"}
{"level":"error","message":"Error creating question: Error: Error fetching AI response from Anthropic\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:22:15)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:29:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 03:10:48"}
{"level":"error","message":"Error fetching AI response from Anthropic: TypeError: Assignment to constant variable.\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:12:72)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:29:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 03:11:18"}
{"level":"error","message":"Error creating question: Error: Error fetching AI response from Anthropic\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:22:15)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:29:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 03:11:18"}
{"level":"error","message":"Error fetching AI response from Anthropic: TypeError: Assignment to constant variable.\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:12:72)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:29:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 03:12:07"}
{"level":"error","message":"Error creating question: Error: Error fetching AI response from Anthropic\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:22:15)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:29:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 03:12:07"}
{"level":"error","message":"Error fetching AI response from Anthropic: TypeError: Assignment to constant variable.\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:12:72)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:29:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 03:13:00"}
{"level":"error","message":"Error creating question: Error: Error fetching AI response from Anthropic\n    at getAIAnswer (/Users/sahil/code/express-app/controllers/questionController.js:22:15)\n    at exports.createQuestion (/Users/sahil/code/express-app/controllers/questionController.js:29:30)\n    at Layer.handle [as handle_request] (/Users/sahil/code/express-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sahil/code/express-app/node_modules/express/lib/router/route.js:149:13)\n    at authMiddleware (/Users/sahil/code/express-app/middlewares/authMiddleware.js:20:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"user-service","timestamp":"2024-06-15 03:13:00"}
{"level":"error","message":"Error fetching question: CastError: Cast to ObjectId failed for value \"some_valid_question_id\" (type string) at path \"_id\" for model \"Question\"\n    at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/schema/objectId.js:250:11)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/sahil/code/express-app/node_modules/mongoose/lib/schemaType.js:1236:12)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/sahil/code/express-app/node_modules/mongoose/lib/schemaType.js:1653:17)\n    at cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/cast.js:375:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:4798:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:2206:10)\n    at model.Query._findOne (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:2526:8)\n    at model.Query.exec (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:4342:80)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous>.exports.getQuestionById (/Users/sahil/code/express-app/controllers/questionController.js:43:26) {\n  stringValue: '\"some_valid_question_id\"',\n  messageFormat: undefined,\n  kind: 'ObjectId',\n  value: 'some_valid_question_id',\n  path: '_id',\n  reason: BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n      at new ObjectId (/Users/sahil/code/express-app/node_modules/bson/src/objectid.ts:118:15)\n      at castObjectId (/Users/sahil/code/express-app/node_modules/mongoose/lib/cast/objectid.js:25:12)\n      at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/schema/objectId.js:248:12)\n      at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/sahil/code/express-app/node_modules/mongoose/lib/schemaType.js:1236:12)\n      at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/sahil/code/express-app/node_modules/mongoose/lib/schemaType.js:1653:17)\n      at cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/cast.js:375:32)\n      at model.Query.Object.<anonymous>.Query.cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:4798:12)\n      at model.Query.Object.<anonymous>.Query._castConditions (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:2206:10)\n      at model.Query._findOne (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:2526:8)\n      at model.Query.exec (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:4342:80)\n      at processTicksAndRejections (node:internal/process/task_queues:95:5)\n      at Object.<anonymous>.exports.getQuestionById (/Users/sahil/code/express-app/controllers/questionController.js:43:26),\n  valueType: 'string'\n}","service":"user-service","timestamp":"2024-06-15 13:53:37"}
{"level":"error","message":"Error fetching question: CastError: Cast to ObjectId failed for value \"some_valid_question_id\" (type string) at path \"_id\" for model \"Question\"\n    at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/schema/objectId.js:250:11)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/sahil/code/express-app/node_modules/mongoose/lib/schemaType.js:1236:12)\n    at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/sahil/code/express-app/node_modules/mongoose/lib/schemaType.js:1653:17)\n    at cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/cast.js:375:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:4798:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:2206:10)\n    at model.Query._findOne (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:2526:8)\n    at model.Query.exec (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:4342:80)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous>.exports.getQuestionById (/Users/sahil/code/express-app/controllers/questionController.js:43:26) {\n  stringValue: '\"some_valid_question_id\"',\n  messageFormat: undefined,\n  kind: 'ObjectId',\n  value: 'some_valid_question_id',\n  path: '_id',\n  reason: BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n      at new ObjectId (/Users/sahil/code/express-app/node_modules/bson/src/objectid.ts:118:15)\n      at castObjectId (/Users/sahil/code/express-app/node_modules/mongoose/lib/cast/objectid.js:25:12)\n      at SchemaObjectId.Object.<anonymous>.SchemaObjectId.cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/schema/objectId.js:248:12)\n      at SchemaObjectId.Object.<anonymous>.SchemaType.applySetters (/Users/sahil/code/express-app/node_modules/mongoose/lib/schemaType.js:1236:12)\n      at SchemaObjectId.Object.<anonymous>.SchemaType.castForQuery (/Users/sahil/code/express-app/node_modules/mongoose/lib/schemaType.js:1653:17)\n      at cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/cast.js:375:32)\n      at model.Query.Object.<anonymous>.Query.cast (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:4798:12)\n      at model.Query.Object.<anonymous>.Query._castConditions (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:2206:10)\n      at model.Query._findOne (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:2526:8)\n      at model.Query.exec (/Users/sahil/code/express-app/node_modules/mongoose/lib/query.js:4342:80)\n      at processTicksAndRejections (node:internal/process/task_queues:95:5)\n      at Object.<anonymous>.exports.getQuestionById (/Users/sahil/code/express-app/controllers/questionController.js:43:26),\n  valueType: 'string'\n}","service":"user-service","timestamp":"2024-06-15 13:54:58"}
